{
  "$schema": "https://unpkg.com/@camunda/zeebe-element-templates-json-schema/resources/schema.json",
  "name": "Search Employee",
  "id": "com.example.camunda.search-employee",
  "description": "Service task to search for employees by name, department, or job title",
  "version": 1,
  "category": {
    "id": "connectors",
    "name": "Connectors"
  },
  "appliesTo": [
    "bpmn:ServiceTask"
  ],
  "elementType": {
    "value": "bpmn:ServiceTask"
  },
  "groups": [
    {
      "id": "input",
      "label": "Search Parameters"
    },
    {
      "id": "output",
      "label": "Output Mapping"
    },
    {
      "id": "errors",
      "label": "Error Handling"
    }
  ],
  "properties": [
    {
      "type": "Hidden",
      "value": "search-employee",
      "binding": {
        "type": "zeebe:taskDefinition:type"
      }
    },
    {
      "id": "employeeName",
      "label": "Employee Name",
      "description": "The name of the employee to search for. Can be partial name for fuzzy matching. Can be a static value or FEEL expression (e.g., =employeeName, =request.name)",
      "type": "Text",
      "group": "input",
      "feel": "optional",
      "binding": {
        "type": "zeebe:input",
        "name": "employeeName"
      },
      "constraints": {
        "notEmpty": false
      }
    },
    {
      "id": "department",
      "label": "Department",
      "description": "Filter employees by department. Can be a static value or FEEL expression (e.g., =department, =\"Sales\")",
      "type": "Text",
      "group": "input",
      "feel": "optional",
      "binding": {
        "type": "zeebe:input",
        "name": "department"
      },
      "constraints": {
        "notEmpty": false
      }
    },
    {
      "id": "jobTitle",
      "label": "Job Title",
      "description": "Filter employees by job title (partial match supported). Can be a static value or FEEL expression (e.g., =jobTitle, =\"Manager\")",
      "type": "Text",
      "group": "input",
      "feel": "optional",
      "binding": {
        "type": "zeebe:input",
        "name": "jobTitle"
      },
      "constraints": {
        "notEmpty": false
      }
    },
    {
      "id": "exactMatch",
      "label": "Exact Name Match",
      "description": "When true, requires exact name match. When false or not set, allows partial name matching. Only applies to employee name field.",
      "type": "Dropdown",
      "choices": [
        {
          "name": "False (Allow partial matching)",
          "value": "false"
        },
        {
          "name": "True (Exact match only)",
          "value": "true"
        }
      ],
      "group": "input",
      "binding": {
        "type": "zeebe:input",
        "name": "exactMatch"
      },
      "constraints": {
        "notEmpty": false
      }
    },
    {
      "id": "fuzzyMatching",
      "label": "Fuzzy Matching",
      "description": "When true, enables fuzzy/similarity matching for employee searches using advanced algorithms. Searches by name, department, and job title with partial matching. When false or not set, uses exact matching only.",
      "type": "Dropdown",
      "choices": [
        {
          "name": "False (Exact matching)",
          "value": "false"
        },
        {
          "name": "True (Fuzzy matching)",
          "value": "true"
        }
      ],
      "group": "input",
      "binding": {
        "type": "zeebe:input",
        "name": "fuzzyMatching"
      },
      "constraints": {
        "notEmpty": false
      }
    },
    {
      "id": "employeeSearchOutput",
      "label": "Employee Search Output",
      "description": "Process variable to store the complete employee search response including status, employees list, count, and individual employee details",
      "type": "String",
      "group": "output",
      "value": "employeeSearchResponse",
      "binding": {
        "type": "zeebe:output",
        "source": "=employeeSearchResult",
        "target": "employeeSearchResponse"
      },
      "constraints": {
        "notEmpty": true
      }
    }
  ],
  "icon": {
    "contents": "data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='18' height='18' viewBox='0 0 24 24' fill='none' stroke='%23007bff' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Ccircle cx='11' cy='11' r='8'%3E%3C/circle%3E%3Cpath d='m21 21-4.35-4.35'%3E%3C/path%3E%3Cpath d='M9 11a2 2 0 1 0 4 0a2 2 0 0 0-4 0'%3E%3C/path%3E%3C/svg%3E"
  }
}
